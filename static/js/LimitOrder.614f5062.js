(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["LimitOrder"],{"1bb8":function(e,t,o){"use strict";o.r(t);var n=o("7a23"),r=o("e524"),l=o.n(r);const i=e=>(Object(n["pushScopeId"])("data-v-1297ab9f"),e=e(),Object(n["popScopeId"])(),e),c={class:"bridge-tx-container"},a={class:"status-container"},d={class:"icon-container"},s={class:"tx-info"},m={class:"tx-info_li"},u={class:"token-container"},f={class:"icon-token-container mr-5"},b=["src"],v={class:"mr-5"},O={class:"tx-info_li"},j={class:"token-container"},p={class:"icon-token-container mr-5"},_=["src"],g={class:"mr-5"},k={class:"tx-info_li"},h={class:"flex items-center"},y={key:0,class:"tx-info_li"},I={class:"flex items-center justify-end"},N={class:"tx-info_li"},x={class:"flex items-center"},E={class:"tx-info_li"},V={class:"flex items-center"},$={key:0},S={key:1,class:"tx-info_li"},D={class:"flex items-center"},B=["href"],w={class:"iconfont icon-copy",style:{"margin-left":"0.1rem"}},C={key:2,class:"tx-info_li"},T={class:"flex items-center"},A={class:"tx-info_li"},M={class:"flex items-center",style:{"text-align":"right"}},F=["innerHTML"],L={class:"flex items-center justify-center btn-container"},U={class:"status-container"},z={class:"icon-container"},P={class:"tx-info"},K={class:"tx-info_li"},G={class:"token-container"},q={class:"icon-token-container mr-5"},H=["src"],R={class:"mr-5"},J={class:"tx-info_li"},Y={class:"token-container"},W={class:"icon-token-container mr-5"},X=["src"],Z={class:"mr-5"},Q={class:"tx-info_li"},ee={class:"flex items-center"},te={class:"tx-info_li"},oe={class:"flex flex-col"},ne={class:"color-999 text-size-12 items-end"},re={class:"tx-info_li"},le={key:0,class:"flex items-center"},ie={class:"label"},ce={key:1,class:"flex items-center"},ae={class:"label"},de={key:0,class:"tx-info_li"},se={key:1,class:"tx-info_li"},me={key:2,class:"tx-info_li"},ue={class:"flex items-center"},fe=["href"],be={class:"iconfont icon-copy",style:{"margin-left":"0.1rem"}},ve={key:3,class:"tx-info_li"},Oe={class:"flex items-center"},je={class:"tx-info_li"},pe=i(()=>Object(n["createElementVNode"])("div",{class:"flex items-center"},null,-1)),_e={key:0,class:"tx-info_li sub-li"},ge={style:{color:"#666","font-size":"0.24rem"}},ke={class:"flex items-center"},he=["href"],ye={class:"iconfont icon-copy",style:{"margin-left":"0.1rem"}},Ie={style:{color:"#666","font-size":"0.24rem"}},Ne=Object(n["createTextVNode"])(" ("),xe={class:"flex items-center text-size-12"},Ee={class:"mr-5"},Ve=i(()=>Object(n["createElementVNode"])("img",{style:{width:"0.3rem",margin:"0.02rem 0.01rem 0"},src:l.a,alt:"",srcset:""},null,-1)),$e={class:"mr-5"},Se=Object(n["createTextVNode"])(") "),De=i(()=>Object(n["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Be={class:"flex items-center"},we=["href"],Ce={class:"iconfont icon-copy",style:{"margin-left":"0.1rem"}},Te={key:2,class:"tx-info_li sub-li"},Ae={style:{color:"#666","font-size":"0.24rem"}},Me={class:"flex items-center"},Fe=["href"],Le={class:"iconfont icon-copy",style:{"margin-left":"0.1rem"}},Ue={class:"flex items-center justify-center btn-container"};function ze(e,t,r,l,i,ze){var Pe,Ke,Ge,qe,He,Re,Je,Ye,We,Xe,Ze,Qe,et,tt,ot,nt,rt,lt,it,ct,at,dt,st,mt,ut,ft,bt,vt,Ot,jt,pt,_t,gt,kt,ht,yt,It,Nt,xt,Et,Vt,$t,St,Dt,Bt,wt,Ct,Tt,At,Mt,Ft,Lt,Ut,zt,Pt,Kt,Gt,qt,Ht,Rt,Jt;const Yt=Object(n["resolveComponent"])("van-nav-bar"),Wt=Object(n["resolveComponent"])("van-icon"),Xt=Object(n["resolveComponent"])("van-loading"),Zt=Object(n["resolveComponent"])("van-image"),Qt=Object(n["resolveComponent"])("van-button"),eo=Object(n["resolveComponent"])("van-divider"),to=Object(n["resolveDirective"])("copy");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",c,[Object(n["createVNode"])(Yt,{"left-text":"","left-arrow":"",fixed:"",placeholder:"","safe-area-inset-top":"","z-index":"2",title:e.$t("limitOrderDetails"),onClickLeft:t[0]||(t[0]=t=>e.$router.go(-1)),onClickRight:t[1]||(t[1]=t=>e.show=!0)},null,8,["title"]),"solana"!==(e.$route.query.chain||(null===(Pe=i.orderInfo)||void 0===Pe?void 0:Pe.chain))?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:0},[Object(n["createElementVNode"])("div",a,[Object(n["createElementVNode"])("div",d,[2===i.orderInfo.status?(Object(n["openBlock"])(),Object(n["createBlock"])(Wt,{key:0,name:"success",color:"#12B886",size:"0.48rem"})):1===i.orderInfo.status||10===i.orderInfo.status||11===i.orderInfo.status||(0===i.orderInfo.status||-1===i.orderInfo.status)&&1e3*i.orderInfo.created_at+i.LimitExpiredTime<Date.now()?(Object(n["openBlock"])(),Object(n["createBlock"])(Wt,{key:1,name:"fail",color:"#999999",size:"0.48rem"})):(Object(n["openBlock"])(),Object(n["createBlock"])(Xt,{key:2,size:"0.48rem",type:"spinner",color:"#3F80F7"}))]),Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(ze.formatStatus(i.orderInfo)),1)]),Object(n["createElementVNode"])("ul",s,[Object(n["createElementVNode"])("li",m,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("from")),1),Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("div",f,[null!==(Ke=i.orderInfo)&&void 0!==Ke&&Ke.from_token?(Object(n["openBlock"])(),Object(n["createBlock"])(Zt,{key:0,round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(Ge=i.orderInfo)&&void 0!==Ge&&Ge.from_token_logo_url?e.$f.formatIcon({logo_url:i.orderInfo.from_token_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"])):Object(n["createCommentVNode"])("",!0),null!==(qe=i.orderInfo)&&void 0!==qe&&qe.chain?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:1,class:"icon-svg icon-network",src:`${e.$store.state.s3BaseUrl}chain/${null===(He=i.orderInfo)||void 0===He?void 0:He.chain}.png`,alt:"",srcset:""},null,8,b)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("span",v,Object(n["toDisplayString"])(e.$f.formatNumber2(ze.formatUnits((null===(Re=i.orderInfo)||void 0===Re?void 0:Re.from_amount)||0,(null===(Je=i.orderInfo)||void 0===Je?void 0:Je.from_token_decimals)||0))),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])((null===(Ye=i.orderInfo)||void 0===Ye?void 0:Ye.from_token_symbol)||""),1)])]),Object(n["createElementVNode"])("li",O,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("to")),1),Object(n["createElementVNode"])("div",j,[Object(n["createElementVNode"])("div",p,[null!==(We=i.orderInfo)&&void 0!==We&&We.to_token?(Object(n["openBlock"])(),Object(n["createBlock"])(Zt,{key:0,round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(Xe=i.orderInfo)&&void 0!==Xe&&Xe.to_token_logo_url?e.$f.formatIcon({logo_url:i.orderInfo.to_token_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"])):Object(n["createCommentVNode"])("",!0),null!==(Ze=i.orderInfo)&&void 0!==Ze&&Ze.chain?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:1,class:"icon-svg icon-network",src:`${e.$store.state.s3BaseUrl}chain/${null===(Qe=i.orderInfo)||void 0===Qe?void 0:Qe.chain}.png`,alt:"",srcset:""},null,8,_)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("span",g,Object(n["toDisplayString"])(e.$f.formatNumber2(ze.formatUnits((null===(et=i.orderInfo)||void 0===et?void 0:et.to_amount)||0,(null===(tt=i.orderInfo)||void 0===tt?void 0:tt.to_token_decimals)||0))),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])((null===(ot=i.orderInfo)||void 0===ot?void 0:ot.to_token_symbol)||""),1)])]),Object(n["createElementVNode"])("li",k,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("orderType")),1),Object(n["createElementVNode"])("div",h,Object(n["toDisplayString"])(1===i.orderInfo.order_type?e.$t("stopLimit"):e.$t("generalDelegation")),1)]),1===i.orderInfo.order_type?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",y,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("effectiveCondition")),1),Object(n["createElementVNode"])("div",I,Object(n["toDisplayString"])(e.$t("triggerPriceEffective",{symbol:i.orderInfo.target_token===i.orderInfo.from_token?(null===(nt=i.orderInfo)||void 0===nt?void 0:nt.from_token_symbol)||"":(null===(rt=i.orderInfo)||void 0===rt?void 0:rt.to_token_symbol)||"",price:e.$f.formatNumber2(null===(lt=i.orderInfo)||void 0===lt?void 0:lt.trigger_price)})),1)])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("li",N,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(n["toDisplayString"])(i.orderInfo.target_token===i.orderInfo.from_token?(null===(it=i.orderInfo)||void 0===it?void 0:it.from_token_symbol)||"":(null===(ct=i.orderInfo)||void 0===ct?void 0:ct.to_token_symbol)||"")+")",1),Object(n["createElementVNode"])("div",x," $ "+Object(n["toDisplayString"])(e.$f.formatNumber2(null===(at=i.orderInfo)||void 0===at?void 0:at.target_limit_price)),1)]),Object(n["createElementVNode"])("li",E,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("delegateTime")),1),Object(n["createElementVNode"])("div",V,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.$f.formatDate(i.orderInfo.created_at)),1),(0===i.orderInfo.status||-1===i.orderInfo.status)&&Date.now()<1e3*i.orderInfo.created_at+i.LimitExpiredTime?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",$,"("+Object(n["toDisplayString"])(e.$t("expiresInTime",{t:e.$dayjs(1e3*i.orderInfo.created_at+i.LimitExpiredTime).fromNow()}))+")",1)):Object(n["createCommentVNode"])("",!0)])]),i.orderInfo.executed_tx_hash&&2===i.orderInfo.status?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",S,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("txHash")),1),Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(i.orderInfo.chain,i.orderInfo.executed_tx_hash,"tx"),target:"_blank"},Object(n["toDisplayString"])((null===(dt=i.orderInfo.executed_tx_hash)||void 0===dt?void 0:dt.slice(0,6))+"..."+(null===(st=i.orderInfo.executed_tx_hash)||void 0===st?void 0:st.slice(-6))),9,B),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",w,null,512),[[to,i.orderInfo.executed_tx_hash]])])])):Object(n["createCommentVNode"])("",!0),i.orderInfo.executed_tx_hash&&2===i.orderInfo.status?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",C,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("txTime")),1),Object(n["createElementVNode"])("div",T,Object(n["toDisplayString"])(e.$f.formatDate(i.orderInfo.finished_at)),1)])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("li",A,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("estimateGas")),1),Object(n["createElementVNode"])("div",M,Object(n["toDisplayString"])(e.$t("estimateGasTips",{n:e.$f.formatNumber2(null!==(mt=i.limitGasU)&&void 0!==mt?mt:1,1)})),1)])]),Object(n["createElementVNode"])("div",{style:{color:"#f8be46","text-align":"left","font-size":"0.24rem","line-height":"1.5","margin-top":"0.6rem"},innerHTML:e.$t("limitOrderTips")},null,8,F),Object(n["createElementVNode"])("div",L,[0!==i.orderInfo.status&&-1!==i.orderInfo.status||!(i.orderInfo.target_token===i.NATIVE_TOKEN||(0===i.orderInfo.status||-1===i.orderInfo.status)&&1e3*i.orderInfo.created_at+i.LimitExpiredTime>Date.now())?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(Qt,{key:0,class:"btn-s",loading:i.loading,"loading-text":e.$t("revoke"),plain:"",round:"",onClick:Object(n["withModifiers"])(ze.confirmCancel,["stop"])},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("revoke")),1)]),_:1},8,["loading","loading-text","onClick"])),Object(n["createVNode"])(Qt,{class:"btn-s",plain:"",round:"",onClick:Object(n["withModifiers"])(ze.goLimit,["stop"])},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("swapAgain")),1)]),_:1},8,["onClick"])])],64)):(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:1},[Object(n["createElementVNode"])("div",U,[Object(n["createElementVNode"])("div",z,["Completed"===i.orderInfo.state?(Object(n["openBlock"])(),Object(n["createBlock"])(Wt,{key:0,name:"success",color:"#12B886",size:"0.48rem"})):"Pending"===(null===(ut=i.orderInfo)||void 0===ut?void 0:ut.state)&&null!==(null===(ft=i.orderInfo)||void 0===ft?void 0:ft.expiredAt)&&Date.now()>1e3*Number((null===(bt=i.orderInfo)||void 0===bt?void 0:bt.expiredAt)||0)?(Object(n["openBlock"])(),Object(n["createBlock"])(Wt,{key:1,name:"warning-o",color:"#999999",size:"0.48rem"})):"Cancelled"===i.orderInfo.state?(Object(n["openBlock"])(),Object(n["createBlock"])(Wt,{key:2,name:"cross",color:"#999",size:"0.48rem"})):(Object(n["openBlock"])(),Object(n["createBlock"])(Xt,{key:3,size:"0.48rem",type:"spinner",color:"#3F80F7"}))]),Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(ze.formatSolanaStatus(i.orderInfo)),1)]),Object(n["createElementVNode"])("ul",P,[Object(n["createElementVNode"])("li",K,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("from")),1),Object(n["createElementVNode"])("div",G,[Object(n["createElementVNode"])("div",q,[null!==(vt=i.orderInfo)&&void 0!==vt&&vt.from_token?(Object(n["openBlock"])(),Object(n["createBlock"])(Zt,{key:0,round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(Ot=i.orderInfo)&&void 0!==Ot&&Ot.from_token_logo_url?e.$f.formatIcon({logo_url:i.orderInfo.from_token_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"])):Object(n["createCommentVNode"])("",!0),null!==(jt=i.orderInfo)&&void 0!==jt&&jt.chain?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:1,class:"icon-svg icon-network",src:`${e.$store.state.s3BaseUrl}chain/${null===(pt=i.orderInfo)||void 0===pt?void 0:pt.chain}.png`,alt:"",srcset:""},null,8,H)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("span",R,Object(n["toDisplayString"])(e.$f.formatNumber2(ze.formatUnits((null===(_t=i.orderInfo)||void 0===_t?void 0:_t.from_amount)||0,(null===(gt=i.orderInfo)||void 0===gt?void 0:gt.from_token_decimals)||0))),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])((null===(kt=i.orderInfo)||void 0===kt?void 0:kt.from_token_symbol)||""),1)])]),Object(n["createElementVNode"])("li",J,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("to")),1),Object(n["createElementVNode"])("div",Y,[Object(n["createElementVNode"])("div",W,[null!==(ht=i.orderInfo)&&void 0!==ht&&ht.to_token?(Object(n["openBlock"])(),Object(n["createBlock"])(Zt,{key:0,round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:null!==(yt=i.orderInfo)&&void 0!==yt&&yt.to_token_logo_url?e.$f.formatIcon({logo_url:i.orderInfo.to_token_logo_url}):"/icon-default.png","error-icon":o("aeccf")},null,8,["src","error-icon"])):Object(n["createCommentVNode"])("",!0),null!==(It=i.orderInfo)&&void 0!==It&&It.chain?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:1,class:"icon-svg icon-network",src:`${e.$store.state.s3BaseUrl}chain/${null===(Nt=i.orderInfo)||void 0===Nt?void 0:Nt.chain}.png`,alt:"",srcset:""},null,8,X)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("span",Z,Object(n["toDisplayString"])(e.$f.formatNumber2(ze.formatUnits((null===(xt=i.orderInfo)||void 0===xt?void 0:xt.to_amount)||0,(null===(Et=i.orderInfo)||void 0===Et?void 0:Et.to_token_decimals)||0))),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])((null===(Vt=i.orderInfo)||void 0===Vt?void 0:Vt.to_token_symbol)||""),1)])]),Object(n["createElementVNode"])("li",Q,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("orderType")),1),Object(n["createElementVNode"])("div",ee,Object(n["toDisplayString"])(e.$t("generalDelegation")),1)]),Object(n["createElementVNode"])("li",te,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(n["toDisplayString"])(ze.solanaPriceSymbol(i.orderInfo))+")",1),Object(n["createElementVNode"])("div",oe,[Object(n["createElementVNode"])("span",null,"$"+Object(n["toDisplayString"])(ze.solanaPriceU(i.orderInfo)),1),Object(n["createElementVNode"])("span",ne,"("+Object(n["toDisplayString"])(ze.solanaPrice(i.orderInfo))+")",1)])]),Object(n["createElementVNode"])("li",re,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("amount1")),1),ze.solanaTarget(i.orderInfo)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",le,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.$f.formatNumber2(ze.formatUnits((null===($t=i.orderInfo)||void 0===$t?void 0:$t.from_amount_used)||0,(null===(St=i.orderInfo)||void 0===St?void 0:St.from_token_decimals)||0)))+"/"+Object(n["toDisplayString"])(e.$f.formatNumber2(ze.formatUnits((null===(Dt=i.orderInfo)||void 0===Dt?void 0:Dt.from_amount)||0,(null===(Bt=i.orderInfo)||void 0===Bt?void 0:Bt.from_token_decimals)||0)))+" "+Object(n["toDisplayString"])(i.orderInfo.from_token_symbol),1),Object(n["createElementVNode"])("span",ie,"("+Object(n["toDisplayString"])(e.$f.formatNumber2((null===(wt=i.orderInfo)||void 0===wt?void 0:wt.percent)||0))+"%)",1)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ce,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.$f.formatNumber2(ze.formatUnits((null===(Ct=i.orderInfo)||void 0===Ct?void 0:Ct.to_amount_used)||0,(null===(Tt=i.orderInfo)||void 0===Tt?void 0:Tt.to_token_decimals)||0)))+"/"+Object(n["toDisplayString"])(e.$f.formatNumber2(ze.formatUnits((null===(At=i.orderInfo)||void 0===At?void 0:At.to_amount)||0,(null===(Mt=i.orderInfo)||void 0===Mt?void 0:Mt.to_token_decimals)||0)))+" "+Object(n["toDisplayString"])(i.orderInfo.to_token_symbol),1),Object(n["createElementVNode"])("span",ae,"("+Object(n["toDisplayString"])(e.$f.formatNumber2((null===(Ft=i.orderInfo)||void 0===Ft?void 0:Ft.percent)||0))+"%)",1)]))]),void 0!==i.orderInfo.expiredAt?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",de,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.$t("expiredTime")),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(i.orderInfo.expiredAt?e.$f.formatDate(i.orderInfo.expiredAt):e.$t("never")),1)])):Object(n["createCommentVNode"])("",!0),i.orderInfo.createdAt?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",se,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.$t("createTime")),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.$f.formatDate(i.orderInfo.createdAt)),1)])):Object(n["createCommentVNode"])("",!0),i.orderInfo.executed_tx_hash&&2===i.orderInfo.status?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",me,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("txHash")),1),Object(n["createElementVNode"])("div",ue,[Object(n["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(i.orderInfo.chain,i.orderInfo.executed_tx_hash,"tx"),target:"_blank"},Object(n["toDisplayString"])((null===(Lt=i.orderInfo.executed_tx_hash)||void 0===Lt?void 0:Lt.slice(0,6))+"..."+(null===(Ut=i.orderInfo.executed_tx_hash)||void 0===Ut?void 0:Ut.slice(-6))),9,fe),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",be,null,512),[[to,i.orderInfo.executed_tx_hash]])])])):Object(n["createCommentVNode"])("",!0),i.orderInfo.executed_tx_hash&&2===i.orderInfo.status?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",ve,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("txTime")),1),Object(n["createElementVNode"])("div",Oe,Object(n["toDisplayString"])(e.$f.formatDate(i.orderInfo.finished_at)),1)])):Object(n["createCommentVNode"])("",!0),i.orderInfo.createTxid||(null===(zt=i.orderInfo)||void 0===zt||null===(zt=zt.orders)||void 0===zt?void 0:zt.length)>0||null!==(Pt=i.orderInfo)&&void 0!==Pt&&Pt.cancelTxid?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:4},[Object(n["createVNode"])(eo),Object(n["createElementVNode"])("li",je,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("txHash")),1),pe]),i.orderInfo.createTxid?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",_e,[Object(n["createElementVNode"])("div",ge,Object(n["toDisplayString"])(e.$t("create")),1),Object(n["createElementVNode"])("div",ke,[Object(n["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(i.orderInfo.chain,i.orderInfo.createTxid,"tx"),target:"_blank"},Object(n["toDisplayString"])((null===(Kt=i.orderInfo.createTxid)||void 0===Kt?void 0:Kt.slice(0,6))+"..."+(null===(Gt=i.orderInfo.createTxid)||void 0===Gt?void 0:Gt.slice(-6))),9,he),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",ye,null,512),[[to,i.orderInfo.createTxid]])])])):Object(n["createCommentVNode"])("",!0),(null===(qt=i.orderInfo)||void 0===qt||null===(qt=qt.orders)||void 0===qt?void 0:qt.length)>0?(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],{key:1},Object(n["renderList"])(null===(Ht=i.orderInfo)||void 0===Ht?void 0:Ht.orders,(t,o)=>{var r,l,c,a,d,s;return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:o,class:"tx-info_li sub-li"},[Object(n["createElementVNode"])("div",Ie,Object(n["toDisplayString"])(e.$t("trade")),1),Ne,Object(n["createElementVNode"])("div",xe,[Object(n["createElementVNode"])("span",Ee,Object(n["toDisplayString"])(e.$f.formatNumber2(ze.formatUnits((null===t||void 0===t?void 0:t.inAmount)||0,(null===(r=i.orderInfo)||void 0===r?void 0:r.from_token_decimals)||0))),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])((null===(l=i.orderInfo)||void 0===l?void 0:l.from_token_symbol)||""),1),Ve,Object(n["createElementVNode"])("span",$e,Object(n["toDisplayString"])(e.$f.formatNumber2(ze.formatUnits((null===t||void 0===t?void 0:t.outAmount)||0,(null===(c=i.orderInfo)||void 0===c?void 0:c.to_token_decimals)||0))),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])((null===(a=i.orderInfo)||void 0===a?void 0:a.to_token_symbol)||""),1)]),Se,De,Object(n["createElementVNode"])("div",Be,[Object(n["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(i.orderInfo.chain,t.txid,"tx"),target:"_blank"},Object(n["toDisplayString"])((null===(d=t.txid)||void 0===d?void 0:d.slice(0,6))+"..."+(null===(s=t.txid)||void 0===s?void 0:s.slice(-6))),9,we),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",Ce,null,512),[[to,t.txid]])])])}),128)):Object(n["createCommentVNode"])("",!0),i.orderInfo.cancelTxid?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Te,[Object(n["createElementVNode"])("div",Ae,Object(n["toDisplayString"])(e.$t("cancel1")),1),Object(n["createElementVNode"])("div",Me,[Object(n["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(i.orderInfo.chain,i.orderInfo.cancelTxid,"tx"),target:"_blank"},Object(n["toDisplayString"])((null===(Rt=i.orderInfo.cancelTxid)||void 0===Rt?void 0:Rt.slice(0,6))+"..."+(null===(Jt=i.orderInfo.cancelTxid)||void 0===Jt?void 0:Jt.slice(-6))),9,Fe),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",Le,null,512),[[to,i.orderInfo.cancelTxid]])])])):Object(n["createCommentVNode"])("",!0)],64)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",Ue,["Pending"===i.orderInfo.state?(Object(n["openBlock"])(),Object(n["createBlock"])(Qt,{key:0,class:"btn-s",loading:i.loadingSolana[i.orderInfo.publicKey],"loading-text":e.$t("revoke"),plain:"",round:"",onClick:Object(n["withModifiers"])(ze.confirmCancel,["stop"])},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("revoke")),1)]),_:1},8,["loading","loading-text","onClick"])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(Qt,{class:"btn-s",plain:"",round:"",onClick:Object(n["withModifiers"])(ze.goLimit,["stop"])},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("swapAgain")),1)]),_:1},8,["onClick"])])],64))])}o("1e70"),o("79a4"),o("c1a1"),o("8b00"),o("a4e7"),o("1e5a"),o("72c3");var Pe=o("365c"),Ke=o("6779"),Ge=o("c9d9"),qe=o("901e"),He=o.n(qe);let Re=null;var Je={name:"LimitOrderDetails",data(){return{LimitExpiredTime:Ge["g"],NATIVE_TOKEN:Ge["k"],orderInfo:{},loading:!1,limitContractsFee:Ge["w"],limitGasU:"0",loadingSolana:{}}},activated(){this.init()},methods:{formatUnits:Ke["utils"].formatUnits,init(){this.getLimitOrder()},getLimitOrder(){"solana"!==this.$route.query.chain?Object(Pe["L"])({id:this.$route.params.id}).then(e=>{var t;console.log(e),this.orderInfo=null!==(t=null===e||void 0===e?void 0:e[0])&&void 0!==t?t:{},this.getGasUsd()}):this.getSolanaLimitOrder()},getSolanaLimitOrder(e){if("solana"===this.$route.query.chain){let{inputMint:t,outputMint:o,wallet:n}=this.$route.query;return Promise.all([Object(Pe["V"])({wallet:n}),Object(Pe["W"])({wallet:n,take:100})]).then(async t=>{var o,r,l,i,c,a,d,s;let m=null===t||void 0===t||null===(o=t[0])||void 0===o||null===(r=o.map)||void 0===r?void 0:r.call(o,e=>{var t,o;return[(null===e||void 0===e||null===(t=e.account)||void 0===t?void 0:t.inputMint)+"-solana",(null===e||void 0===e||null===(o=e.account)||void 0===o?void 0:o.outputMint)+"-solana"]}),u=null===t||void 0===t||null===(l=t[1])||void 0===l||null===(i=l.map)||void 0===i?void 0:i.call(l,e=>[(null===e||void 0===e?void 0:e.inputMint)+"-solana",(null===e||void 0===e?void 0:e.outputMint)+"-solana"]),f=Array.from(new Set([...null===m||void 0===m?void 0:m.flat(),...null===u||void 0===u?void 0:u.flat()])),b=await Object(Pe["lb"])(f).catch(async e=>(console.log(e),{})),v=null===t||void 0===t||null===(c=t[0])||void 0===c||null===(a=c.map)||void 0===a?void 0:a.call(c,e=>{var t,o,n,r,l,i,c,a;let d=e.account;return{...e,...d,from_token:d.inputMint,from_token_symbol:null===(t=b[d.inputMint+"-solana"])||void 0===t?void 0:t.symbol,from_token_decimals:null===(o=b[d.inputMint+"-solana"])||void 0===o?void 0:o.decimal,from_token_price:null===(n=b[d.inputMint+"-solana"])||void 0===n?void 0:n.current_price_usd,to_token:d.outputMint,to_token_symbol:null===(r=b[d.outputMint+"-solana"])||void 0===r?void 0:r.symbol,to_token_decimals:null===(l=b[d.outputMint+"-solana"])||void 0===l?void 0:l.decimal,to_token_price:null===(i=b[d.outputMint+"-solana"])||void 0===i?void 0:i.current_price_usd,from_amount:Number(d.oriInAmount)||0,to_amount:Number(d.oriOutAmount)||0,id:e.publicKey,orderKey:e.publicKey,chain:"solana",created_at:0,state:"Pending",from_amount_used:new He.a(d.oriInAmount).minus(d.inAmount).toFixed(),to_amount_used:new He.a(d.oriOutAmount).minus(d.outAmount).toFixed(),percent:new He.a(d.oriInAmount).minus(d.inAmount).div(d.oriInAmount).times(100).toFixed(),from_token_logo_url:null===(c=b[d.inputMint+"-solana"])||void 0===c?void 0:c.logo_url,to_token_logo_url:null===(a=b[d.outputMint+"-solana"])||void 0===a?void 0:a.logo_url}}),O=null===t||void 0===t||null===(d=t[1])||void 0===d||null===(s=d.map)||void 0===s?void 0:s.call(d,e=>{var t,o,n,r,l,i,c,a;return{...e,from_token:e.inputMint,from_token_symbol:null===(t=b[e.inputMint+"-solana"])||void 0===t?void 0:t.symbol,from_token_decimals:null===(o=b[e.inputMint+"-solana"])||void 0===o?void 0:o.decimal,from_token_price:null===(n=b[e.inputMint+"-solana"])||void 0===n?void 0:n.current_price_usd,to_token:e.outputMint,to_token_symbol:null===(r=b[e.outputMint+"-solana"])||void 0===r?void 0:r.symbol,to_token_decimals:null===(l=b[e.outputMint+"-solana"])||void 0===l?void 0:l.decimal,to_token_price:null===(i=b[e.outputMint+"-solana"])||void 0===i?void 0:i.current_price_usd,from_amount:Number(e.oriInAmount)||0,to_amount:Number(e.oriOutAmount)||0,chain:"solana",from_amount_used:new He.a(e.oriInAmount).minus(e.inAmount).toFixed(),to_amount_used:new He.a(e.oriOutAmount).minus(e.outAmount).toFixed(),percent:new He.a(e.oriInAmount).minus(e.inAmount).div(e.oriInAmount).times(100).toFixed(),from_token_logo_url:null===(c=b[e.inputMint+"-solana"])||void 0===c?void 0:c.logo_url,to_token_logo_url:null===(a=b[e.outputMint+"-solana"])||void 0===a?void 0:a.logo_url}}),j=[...v,...O],p=null===j||void 0===j?void 0:j.some(t=>t.orderKey===e&&"Cancelled"===t.state);return e&&!p?(Re&&(clearTimeout(Re),Re=null),new Promise((t,o)=>{Re=setTimeout(()=>{this.getSolanaLimitOrderTime+=5,this.getSolanaLimitOrder(e).then(e=>{t(e)})},5e3)})):(this.orderInfo=j.find(e=>(null===e||void 0===e?void 0:e.orderKey)===this.$route.params.id)||{},Object(Pe["X"])({wallet:n}).then(e=>{console.log(e);let t=null===e||void 0===e?void 0:e.filter(e=>e.order.id===this.orderInfo.id);return(null===t||void 0===t?void 0:t.length)>0&&(this.orderInfo={...this.orderInfo,orders:t}),Promise.resolve(this.orderInfo)}))})}},getGasUsd(){this.orderInfo.chain&&Object(Pe["G"])(this.orderInfo.chain).then(e=>{this.limitGasU=e||Ge["w"][this.orderInfo.chain]})},formatStatus(e){var t;if((0===e.status||-1===e.status)&&1e3*e.created_at+Ge["g"]<Date.now())return this.$t("expired1");let o=e.status,n={0:this.$t("pendingOrder"),1:this.$t("cancelled"),2:this.$t("completed"),10:this.$t("fail1")+`(${this.$t("nonceError")})`,11:this.$t("fail1")+`(${this.$t("chainError")})`,12:this.$t("fail1")+`(${this.$t("signatureError")})`,13:this.$t("fail1")+`(${this.$t("approveGasPriceLow")})`,"-1":this.$t("triggerPriceNotReached")};return null!==(t=n[o])&&void 0!==t?t:this.$t("pendingOrder")},formatStatusColor(e){if((0===e.status||-1===e.status)&&1e3*e.created_at+Ge["g"]<Date.now())return"#999999";let t=e.status;return 1===t||10===t||11===t||12===t?"#999999":2===t?"#12B886":0===t?"#3F80F7":"#FF0000"},goLimit(){if("solana"===this.orderInfo.chain){let e=0,t="";t=this.solanaTarget(this.orderInfo)?this.orderInfo.from_token:this.orderInfo.to_token;let o=t+"-solana";location.href=`/swap/${o}/${e}`}else if(this.orderInfo.target_token&&this.orderInfo.chain){let e=this.orderInfo.target_token+"-"+this.orderInfo.chain,t=1===this.orderInfo.order_type?1:0;location.href=`/swap/${e}/${t}`}},confirmCancel(){var e;let t="solana"===(null===(e=this.orderInfo)||void 0===e?void 0:e.chain)?this.$t("cancelOrderConfirmingSolana"):this.$t("confirmCancelMessage");this.$dialog.confirm({title:this.$t("cancelOrderConfirming"),message:t,confirmButtonText:this.$t("confirm1"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel")}).then(()=>{this.cancelLimitOrder(this.orderInfo)})},cancelLimitOrder(e){if("solana"===e.chain)return void this.cancelSolanaLimitOrder(e);let t={fromToken:e.from_token,fromAmount:e.from_amount,toToken:e.to_token,minReturn:e.to_min_amount,salt:e.salt,id:e.id,order_id:e.order_id};console.log(t),this.loading=!0,Object(Pe["l"])(t).then(e=>{console.log(e),this.$notify({type:"success",message:this.$t("cancelledOrderSuccessfully")}),this.init()}).catch(e=>{this.$f.handleError(e)}).finally(()=>{this.loading=!1})},cancelSolanaLimitOrder(e){this.loadingSolana[e.publicKey]=!0,Object(Pe["m"])(e.publicKey).then(e=>(console.log(e),e.wait())).then(t=>{console.log(t),this.getSolanaLimitOrder(e.publicKey).then(()=>{this.loadingSolana[e.publicKey]=!1,this.$notify({type:"success",message:this.$t("cancelledOrderSuccessfully")})})}).catch(t=>{this.loadingSolana[e.publicKey]=!1,this.$f.handleError(t)})},solanaTarget(e){let t=["So11111111111111111111111111111111111111112","EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"],o=t.indexOf(e.from_token),n=t.indexOf(e.to_token);return o<=n},solanaPriceSymbol(e){return this.solanaTarget(e)?(null===e||void 0===e?void 0:e.from_token_symbol)||"":(null===e||void 0===e?void 0:e.to_token_symbol)||""},solanaPriceU(e){return this.solanaTarget(e)?this.$f.formatNumber2(new He.a(e.to_amount).times(10**((null===e||void 0===e?void 0:e.from_token_decimals)-(null===e||void 0===e?void 0:e.to_token_decimals))).times((null===e||void 0===e?void 0:e.to_token_price)||0).div(e.from_amount).toFixed()):this.$f.formatNumber2(new He.a(e.from_amount).times(10**((null===e||void 0===e?void 0:e.to_token_decimals)-(null===e||void 0===e?void 0:e.from_token_decimals))).times((null===e||void 0===e?void 0:e.from_token_price)||0).div(e.to_amount).toFixed())},solanaPrice(e){return this.solanaTarget(e)?this.$f.formatNumber2(e.to_amount*10**((null===e||void 0===e?void 0:e.from_token_decimals)-(null===e||void 0===e?void 0:e.to_token_decimals))/e.from_amount)+" "+((null===e||void 0===e?void 0:e.to_token_symbol)||"")+" per "+((null===e||void 0===e?void 0:e.from_token_symbol)||""):this.$f.formatNumber2(e.from_amount*10**((null===e||void 0===e?void 0:e.to_token_decimals)-(null===e||void 0===e?void 0:e.from_token_decimals))/e.to_amount)+" "+((null===e||void 0===e?void 0:e.from_token_symbol)||"")+" per "+((null===e||void 0===e?void 0:e.to_token_symbol)||"")},formatSolanaStatus(e){var t;if("Pending"===(null===e||void 0===e?void 0:e.state)&&null!==(null===e||void 0===e?void 0:e.expiredAt)&&Date.now()>1e3*Number((null===e||void 0===e?void 0:e.expiredAt)||0))return this.$t("expired1");let o=e.state,n={Pending:this.$t("pendingOrder"),Completed:this.$t("completed"),Cancelled:this.$t("cancelled")};return null!==(t=n[o])&&void 0!==t?t:o},formatSolanaStatusColor(e){var t;if("Pending"===(null===e||void 0===e?void 0:e.state)&&null!==(null===e||void 0===e?void 0:e.expiredAt)&&Date.now()>1e3*Number((null===e||void 0===e?void 0:e.expiredAt)||0))return"#999999";let o=e.state,n={Pending:"#3F80F7",Completed:"#12B886",Cancelled:"#999999"};return null!==(t=n[o])&&void 0!==t?t:"#3F80F7"}}},Ye=(o("e82a"),o("6b0d")),We=o.n(Ye);const Xe=We()(Je,[["render",ze],["__scopeId","data-v-1297ab9f"]]);t["default"]=Xe},9242:function(e,t,o){},aeccf:function(e,t,o){e.exports=o.p+"static/img/icon-default.75f6e9a0.png"},e524:function(e,t,o){e.exports=o.p+"static/img/arrow-right.484eb652.svg"},e82a:function(e,t,o){"use strict";o("9242")}}]);